import tkinter as tk

class ListboxFilterApp:
    def __init__(self, root):
        self.root = root
        self.root.title("Listbox Filter Example")

        self.head_table_entries = ["John", "Alice", "Bob"]
        self.second_table_entries = [
            ("John", "John_Entry1"),
            ("John", "John_Entry2"),
            ("John", "John_Entry3"),
            ("Alice", "Alice_Entry1"),
            ("Alice", "Alice_Entry2"),
            ("Bob", "Bob_Entry1"),
            ("Bob", "Bob_Entry2"),
            ("Bob", "Bob_Entry3"),
            ("Bob", "Bob_Entry4")
        ]

        self.listbox1 = tk.Listbox(self.root)
        self.listbox2 = tk.Listbox(self.root)

        for entry in self.head_table_entries:
            self.listbox1.insert(tk.END, entry)

        self.listbox1.bind('<<ListboxSelect>>', self.on_select_list1)
        self.listbox2.bind('<<ListboxSelect>>', self.on_select_list2)

        self.listbox1.pack(side=tk.LEFT)
        self.listbox2.pack(side=tk.LEFT)

    def on_select_list1(self, event):
        if self.listbox1.curselection():
            selected_index = self.listbox1.curselection()[0]
            selected = self.listbox1.get(selected_index)
            print("Selected from list 1:", selected)  # Print value from list 1
            self.filter_list2(selected)

    def on_select_list2(self, event):
        if self.listbox2.curselection():
            selected_index = self.listbox2.curselection()[0]
            selected = self.listbox2.get(selected_index)
            print("Selected from list 2:", selected)  # Print value from list 2

    def filter_list2(self, selected):
        self.listbox2.delete(0, tk.END)
        filtered_entries = [entry[1] for entry in self.second_table_entries if entry[0] == selected]
        for entry in filtered_entries:
            self.listbox2.insert(tk.END, entry)

if __name__ == "__main__":
    root = tk.Tk()
    app = ListboxFilterApp(root)
    root.mainloop()
